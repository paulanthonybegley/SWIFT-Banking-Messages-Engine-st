# ğŸ¦ Technical Handover: SWIFT Banking Messages Engine

> **To the Future Maintainer (Likely "Me" in 3 months):** This document contains the architectural DNA and operational logic of the project. It is designed to get you back up to speed in minutes, not hours.

---

## ğŸ—ï¸ Project Overview
The **SWIFT Banking Messages Engine** is a professional-grade web toolkit for parsing, validating, and composing SWIFT MT financial messages. It was transitioned from a legacy Vite/Vaadin setup to a lean, high-performance **Spring Boot + Thymeleaf** architecture to ensure better maintainability and lower resource consumption.

### Core Goals:
- **Precision**: Strict adherence to SWIFT message formats (MT101, MT103, MT940, MT942).
- **Usability**: Professional dark-themed UI with interactive documentation.
- **Portability**: Containerized with Docker for seamless deployment to "zero-card" free tiers (Koyeb, Hugging Face).

---

## ğŸ› ï¸ Technology Stack
- **Backend**: Java 17, Spring Boot 3.3.1
- **Templating**: Thymeleaf 3 (fragments used for UI consistency)
- **CSS**: Vanilla CSS (Modern design system in `main.css`)
- **Build System**: Maven (with `mvnw` wrapper)
- **Infrastructure**: Docker (Multi-stage build)

---

## ğŸ“‚ Project Architecture

```text
banking-swift-messages-java/
â”œâ”€â”€ src/main/java/com/qoomon/banking/swift/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ Application.java          # Entry point
â”‚   â”‚   â””â”€â”€ controller/               # MVC Layer
â”‚   â”‚       â”œâ”€â”€ ParserController.java # Message parsing logic
â”‚   â”‚       â”œâ”€â”€ ComposerController.java # MT103 builder
â”‚   â”‚       â””â”€â”€ ValidatorController.java # Header/Syntax validation
â”‚   â””â”€â”€ (logic libraries)             # Core SWIFT processing logic
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ static/css/main.css           # Global Design System
â”‚   â”œâ”€â”€ templates/                    # Thymeleaf UI (HTML fragments)
â”‚   â””â”€â”€ application.properties        # Cloud-aware configurations
â”œâ”€â”€ Dockerfile                        # Optimized for 512MB RAM
â”œâ”€â”€ Makefile                          # Developer command center
â””â”€â”€ pom.xml                           # Dependencies (Vaadin traces removed)
```

---

## ğŸ§© Key Logic Areas

### 1. Message Parsing (`ParserController`)
Messages are parsed by identifying headers first.
- **Robustness**: The parser relies on SWIFT **Block 2** headers for message type detection rather than file extensions.
- **Data Tables**: Extracted fields are mapped into Spring Model attributes and displayed using Thymeleaf loops.

### 2. Message Composition (`ComposerController`)
Currently optimized for **MT103** (Single Customer Credit Transfer).
- **Headers**: Automatically generates standard Block 1, 2, and 3 headers.
- **Fields**: Handles specific SWIFT fields like `20` (Reference), `32A` (Amount/Currency/Date), and `50A/59` (Ordering/Beneficiary customers).

### 3. Design System (`main.css`)
A custom-built dark theme. Key tokens:
- **Glassmorphism**: Headers and cards use semi-transparent backgrounds with blur filters.
- **Color Palette**: Sophisticated dark grays with vibrant accents (emerald for success, ruby for error).

---

## ğŸš€ Operations & Deployment

### Local Development
Always use the `Makefile`:
- `make run`: Starts the app on port 8080.
- `make docker-build`: Validates the container build.
- `make docker-run`: Tests the app in a container environment.

### Cloud Constraints (Koyeb/Render)
The application is optimized for **512MB RAM** instances:
- **Port**: Dynamically assigned via standard environment variables (`${PORT}`).
- **Memory**: The `ENTRYPOINT` in the `Dockerfile` specifies `-Xmx384m` to allow headroom for OS/Container overhead.
- **Host**: Configured to listen on `0.0.0.0` in `application.properties`.

---

## ğŸ“ˆ Future Expansion
If you need to add a new message type (e.g., MT202):
1.  **Add Logic**: Enhance the internal library or update `ParserController` to recognize the new Block 2 header.
2.  **Add Template**: Create a specific display section in `parser.html`.
3.  **Update Composer**: Add a new form in `composer.html` and a corresponding method in `ComposerController`.

---

## âš ï¸ Important Notes
- **Vaadin**: All Vaadin dependencies and frontend artifacts have been scrubbed. Do not attempt to add `package.json` unless you are switching back to a JS-heavy frontend.
- **Dockerfile**: Use standard `eclipse-temurin` images (not `alpine`) to avoid platform manifest issues on Apple Silicon.

---
*Generated by Antigravity on 2026-01-30. Happy Coding!*
